# append ~/.bin to PATH, ~/.bin is a symlink to ~./dotfiles/.bin
export PATH=~/.bin:$PATH
export GOPATH=$PROJECTS/go
export PATH="$GOPATH/bin:$PATH"
export ANDROID_HOME=$HOME/Library/Android/sdk
export ANDROID_NDK_HOME="/usr/local/share/android-ndk"
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/platform-tools
# This should've been installed at /z following topics approach
if command -v brew >/dev/null 2>&1; then
	# Load rupa's z if installed
	[ -f $(brew --prefix)/etc/profile.d/z.sh ] && source $(brew --prefix)/etc/profile.d/z.sh
fi
if (( $+commands[yarn] ))
then
  export PATH="$PATH:`yarn global bin`"
fi
# This should've been installed at /nvm following topics approach
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh" # This loads nvm
alias sc='script/console'
alias sg='script/generate'
alias sd='script/destroy'
# Stolen from
#   https://github.com/sstephenson/rbenv/blob/master/completions/rbenv.zsh

if [[ ! -o interactive ]]; then
    return
fi

compctl -K _rbenv rbenv

_rbenv() {
  local word words completions
  read -cA words
  word="${words[2]}"

  if [ "${#words}" -eq 2 ]; then
    completions="$(rbenv commands)"
  else
    completions="$(rbenv completions "${word}")"
  fi

  reply=("${(ps:\n:)completions}")
}# init according to man page
if (( $+commands[rbenv] ))
then
  eval "$(rbenv init -)"
fi
alias git-delete-local-merged="git branch -d `git branch --merged | grep -v '^*' | grep -v 'master' | tr -d '\n'`"
alias git-undo="git reset --soft HEAD^"
alias gca='git commit -a'
alias gac='git add -A && git commit -m'
alias glog="git log --graph --pretty=format:'%Cred%h%Creset %an: %s - %Creset %C(yellow)%d%Creset %Cgreen(%cr)%Creset' --abbrev-commit --date=relative"
alias gd='git diff --color | sed "s/^\([^-+ ]*\)[-+ ]/\\1/" | less -r'
alias gco.='git checkout -- .'
alias gclean!='grh . && gco -- . && git clean -df'
# Uses git's autocompletion for inner commands. Assumes an install of git's
# bash `git-completion` script at $completion below (this is where Homebrew
# tosses it, at least).
completion='$(brew --prefix)/share/zsh/site-functions/_git'

if test -f $completion
then
  source $completion
fi
